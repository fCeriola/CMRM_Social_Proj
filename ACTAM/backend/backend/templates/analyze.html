{% load static %}

<!DOCTYPE html>
<html>

<head>
    <title>analyze results</title>
    <!--<link rel="stylesheet" type="text/css" href="{% static 'css/db_posts_temp.css'%}">-->

    <script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-storage.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-firestore.js"></script>
</head>

<body>
    <h1>analyze page</h1>
    
    <h2>Results for: "{{ nameOfFile }}"</h2>
    <table class="table mb-0">
        <thead>
            <tr>
                <th>Chord number</th>
                <th>Timestamp</th>
                <th>Chord Name</th>
                <th>Change Chord</th>
                <th>Flag as Doubt</th>
            </tr>
        </thead>

        <tbody>
            {% for i in r.c %}
                <tr>
                    <td>{{ forloop.counter }}</td>
                    <td>
                        {% for j in r.t %}
                            {% if forloop.counter == forloop.parentloop.counter %}
                                {{j}}
                            {% endif %}
                        {% endfor %}
                    </td>
                    <td>{{ i }}</td>
                    <td><select name="newChord" id="newChord">
                            <option value="C">C</option>
                            <option value="Cmin">Cmin</option>
                            <option value="C# / Db">C# / Db</option>
                            <option value="C# / Db">C#min / Dbmin</option>
                      </select>
                    </td>
                    <td><input type="checkbox" id="doubtChord"></td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <br>
    <p>
        <div class="content"><h3>Auto-generated Pool</h3>
            <form id="add-pool-form">
                <input type="text" name="chords" id="chordss" placeholder="Chords" value="{{r.c}}">
                <input type="text" name="nameOfFile" placeholder="nameOfFile" value="{{ nameOfFile }}">
                <input type="text" name="timestamps" placeholder="timestamps" value="{{r.t}}">
                <button>Add New Pool</button>
            </form>

        </div>
    </p>

    <div class="navbar" id="navbar">
        <!--<link rel="stylesheet" type="text/css" href="{% static 'css/navbar.css'%}">-->
        <ul>
            <li><a href="{% url 'index' %}">Index - Login</a></li>
            <li><a href="{% url 'upload' %}">Upload</a></li>
            <li><a href="{% url 'db_posts_temp' %}">Pools</a></li>
            <li><a href="{% url 'user_account' %}">myAccount</a></li>
        </ul>
    </div>

    <script src="{% static 'js/firebase_config.js'%}"></script>

    <script src="{% static 'js/analyze.js'%}"></script>

</body>

</html>